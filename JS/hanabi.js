var resText = "fin!";
var bgmFilePS = 'MP3/hanabi.mp3';
var delayTime = 8250;

//channel:1
//inst:1
var melody_length_ary1 = [
    0.158854166666667,0.158333333333333,0.3171875,0.158854166666667,0.316666666666667,0.158854166666667,0.158854166666667,0.316666666666667,0.158854166666667,0.158854166666667,0.2640625,0.2640625,0.158854166666667,0.158854166666667,0.475520833333333,0.158854166666667,
    0.316666666666667,0.158854166666667,0.158854166666667,0.316666666666667,0.158854166666667,0.158854166666667,0.158333333333333,0.158854166666667,0.158333333333333,0.158333333333333,0.158854166666667,0.313020833333333,0.158854166666667,0.158854166666667,0.316666666666667,0.158854166666667,
    0.158854166666667,0.2640625,0.2640625,0.158854166666667,0.158854166666667,0.475520833333333,0.158854166666667,0.316666666666667,0.158854166666667,0.304166666666667,0.158333333333333,0.158854166666667,0.158854166666667,0.316666666666667,0.158854166666667,0.158854166666667,
    0.158333333333333,0.158333333333333,0.158854166666667,0.158854166666667,0.158333333333333,0.476041666666667,0.078125,0.472916666666667,0.145833333333333,0.1453125,0.1453125,0.158333333333333,0.158854166666667,0.130729166666667,0.316666666666667,0.145833333333333,
    0.158854166666667,0.1625,0.065625,0.0791666666666667,0.158333333333333,0.158854166666667,0.158854166666667,0.1453125,0.158333333333333,0.158854166666667,0.0104166666666667,0.316666666666667,0.158854166666667,0.00729166666666667,0.317708333333333,0.158854166666667,
    0.158854166666667,0.146875,0.158854166666667,0.158854166666667,0.3140625,0.475520833333333,0.158854166666667,0.316666666666667,0.158854166666667,0.158854166666667,0.3140625,0.475520833333333,0.000520833333333333,0.472916666666667,0.145833333333333,0.0104166666666667,
    0.3140625,0.158854166666667,0.158854166666667,0.000520833333333333,0.158333333333333,0.472916666666667,0.145833333333333,0.0104166666666667,0.3140625,0.158854166666667,0.0104166666666667,0.316666666666667,0.145833333333333,0.158854166666667,0.3140625,0.158333333333333,
    0.158333333333333,0.158854166666667,0.158854166666667,0.1453125,0.158333333333333,0.158854166666667,0.0104166666666667,0.158333333333333,0.158854166666667,0.00729166666666667,0.317708333333333,0.158854166666667,0.146875,0.158854166666667,0.158854166666667,0.3140625,
    0.475520833333333,0.158854166666667,0.634375,0.158854166666667,0.158854166666667,0.3140625,0.475520833333333,0.000520833333333333,0.0677083333333333,0.472916666666667,0.145833333333333,0.0104166666666667,0.3140625,0.158854166666667,0.158854166666667,0.792708333333333,
    0.475520833333333,0.158854166666667,0.158333333333333,0.158333333333333,0.158854166666667,0.158854166666667,0.316666666666667,0.158854166666667,0.158854166666667,0.316666666666667,0.158854166666667,0.158854166666667,0.2640625,0.2375,0.158854166666667,0.158854166666667,
    0.475520833333333,0.145833333333333,0.158854166666667,0.316666666666667,0.158333333333333,0.158333333333333,0.158854166666667,0.1453125,0.316666666666667,0.158854166666667,0.158854166666667,0.951041666666667,0.145833333333333,0.152604166666667,0.316666666666667,0.158854166666667,
    0.158854166666667,0.1453125,0.158333333333333,0.158854166666667,0.158854166666667,0.2640625,0.2640625,0.158854166666667,0.158854166666667,0.316666666666667,0.145833333333333,0.158854166666667,0.316666666666667,0.158854166666667,0.158854166666667,1.42708333333333,
    1.42708333333333,0.472916666666667,0.145833333333333,0.0104166666666667,0.3140625,0.158854166666667,0.0104166666666667,0.316666666666667,0.145833333333333,0.158854166666667,0.3140625,0.158333333333333,0.158333333333333,0.158854166666667,0.158854166666667,0.316666666666667,
    0.158854166666667,0.0104166666666667,0.316666666666667,0.156770833333333,0.00729166666666667,0.634895833333333,0.158854166666667,0.158854166666667,0.146875,0.158854166666667,0.158854166666667,0.3140625,0.475520833333333,0.158854166666667,0.1453125,0.158333333333333,
    0.158854166666667,0.158854166666667,0.3140625,0.475520833333333,0.000520833333333333,0.0677083333333333,0.472916666666667,0.145833333333333,0.0104166666666667,0.3140625,0.158854166666667,0.158854166666667,0.634375,0.0791666666666667,0.0791666666666667,0.622916666666667,
    0.0104166666666667,0.1453125,0.634375,0.316666666666667,0.158854166666667,0.3171875,0.158333333333333,0.158854166666667,0.144791666666667,0.316666666666667,0.158854166666667,0.3171875,0.158333333333333,0.158854166666667,0.158854166666667,0.316666666666667,
    0.158854166666667,0.158854166666667,0.1453125,0.158854166666667,1.24947916666667,1.25260416666667,0.2375,0.0046875,0.0796875,0.0046875,0.0791666666666667,0.00416666666666667,0.0791666666666667,0.158333333333333,0.129166666666667,0.128645833333333,
    0.316666666666667,0.303645833333333,0.303645833333333,0.145833333333333,0.145833333333333,0.1453125,0.1453125,0.1453125,0.1453125,0.634375,0.3171875,0.1453125,0.158333333333333,0.158854166666667,0.158854166666667,0.0078125,
    0.316666666666667,0.158854166666667,0.3171875,0.3171875,0.145833333333333,0.145833333333333,0.1453125,0.1453125,0.1453125,0.1453125,0.3171875,0.4625,0.065625,0.0661458333333333,0.158333333333333,0.158854166666667,
    0.158854166666667,0.158333333333333,0.158854166666667,0.238020833333333,0.325,0.158854166666667,0.3171875,0.003125,0.1453125,1.26875,0.3171875,0.634375,0.3171875,0.158854166666667,0.3171875,0.158854166666667,
    0.0104166666666667,0.158333333333333,0.003125,0.304166666666667,0.158333333333333,0.158854166666667,0.158854166666667,0.158333333333333,0.3171875,0.158854166666667,0.316666666666667,0.158854166666667,0.158333333333333,0.158854166666667,0.158333333333333,0.634375,
    0.158333333333333,0.145833333333333,0.145833333333333,0.1453125,0.1453125,0.1453125,0.1453125,0.476041666666667,0.3171875,0.1453125,0.158333333333333,0.158854166666667,0.158854166666667,0.0078125,0.316666666666667,0.158854166666667,
    0.3171875,0.3171875,0.145833333333333,0.145833333333333,0.1453125,0.1453125,0.1453125,0.1453125,0.476041666666667,0.634375,0.065625,0.0661458333333333,0.158333333333333,0.158854166666667,0.158854166666667,0.158333333333333,
    0.158854166666667,0.238020833333333,0.235416666666667,0.0791666666666667,0.3171875,0.224479166666667,0.0791666666666667,0.003125,0.1453125,0.322395833333333,0.0822916666666667,0.3171875,0.634375,0.158333333333333,0.224479166666667,0.0791666666666667,
    0.224479166666667,0.0791666666666667,0.3171875,0.238020833333333,0.0661458333333333,0.3171875,0.003125,0.304166666666667,0.158333333333333,0.158854166666667,0.158854166666667,0.158333333333333,0.3171875,0.3171875,0.158854166666667,0.316666666666667,
    0.1453125,0.475520833333333,0.158333333333333,0.158854166666667,0.316666666666667,0.145833333333333,0.1453125,1.26875,0.3171875,0.158854166666667,0.3171875,0.158854166666667,0.1453125,0.158333333333333,0.793229166666667,0.634375,
    0.3171875,0.158854166666667,0.3171875,0.158854166666667,0.1453125,0.158333333333333,1.89010416666667,1.903125,1.903125,0.158854166666667,0.158333333333333,0.3171875,0.158854166666667,0.316666666666667,0.158854166666667,0.158854166666667,
    1.42708333333333,0.316666666666667,0.158854166666667,0.158854166666667,0.2640625,0.2640625,0.158854166666667,0.158854166666667,0.475520833333333,0.475520833333333,0.158854166666667,0.7796875,0.158333333333333,0.158854166666667,0.158854166666667,0.475520833333333,
    0.475520833333333,0.158854166666667,0.158333333333333,0.3171875,0.158854166666667,0.316666666666667,0.158854166666667,0.158854166666667,0.316666666666667,0.316666666666667,0.158854166666667,0.158854166666667,0.2640625,0.2640625,0.158854166666667,0.158854166666667,
    0.475520833333333,0.475520833333333,0.158854166666667,0.316666666666667,0.158854166666667,0.304166666666667,0.476041666666667,0.476041666666667,0.475520833333333,0.3171875,0.3171875,0.158854166666667,0.130729166666667,0.475520833333333,0.475520833333333,0.475520833333333,
    0.158854166666667,0.316666666666667,0.476041666666667,0.158333333333333,0.158854166666667,0.158854166666667,3.32760416666667,3.32760416666667,4.59895833333333
    ];
    var melody_time_ary1 = [
    2,271,539,1077,1346,1884,2153,2422,2959,3228,3497,3497,4035,4304,4573,5379,
    5648,6186,6455,6723,7261,7530,7799,8606,8874,9143,9680,9949,10487,10755,11024,11562,
    11831,12100,12100,12638,12906,13175,13982,14251,14789,15057,15594,15862,16131,16400,16937,17206,
    17475,17742,18011,18280,18549,18818,19624,19892,20161,20430,20699,20966,21235,21503,21771,22305,
    22574,22840,23910,24042,24176,24443,24711,24978,25245,25514,25781,26048,26584,26850,27117,27653,
    27920,28187,28720,28989,29256,29256,30059,30326,30859,31128,31395,31395,32464,32731,32998,33267,
    33534,34070,34336,34603,36742,37009,37276,37545,37812,38347,38614,38881,39415,39684,39950,41020,
    41287,41554,41822,42089,42356,42625,42892,43159,43694,43961,44228,45031,45298,45831,46100,46367,
    46367,47170,47436,47970,48239,48506,48506,49574,49706,49840,50107,50376,50643,51178,51445,51712,
    52782,53584,53853,54122,54390,54659,54927,55463,55731,55999,56535,56803,57070,57070,57607,57875,
    58143,58679,58947,59215,60288,60556,60824,61092,61360,61897,62166,62434,62970,63239,63507,64044,
    64312,64580,64847,65115,65383,65651,65651,66188,66456,66724,67259,67528,67796,68332,68600,68867,
    71014,71282,71550,71819,72086,72622,72888,73155,73689,73958,74225,75294,75561,75828,76097,76364,
    76899,77166,77433,77969,78236,78502,79038,79305,79572,80106,80374,80641,80641,81444,81711,81978,
    82244,82513,82780,82780,83850,83982,84115,84382,84651,84918,85454,85721,85987,87057,87189,87323,
    87323,87857,88124,89200,89738,90006,90544,90813,91082,91351,91888,92157,92695,92964,93233,93502,
    94039,94308,94308,94308,94577,94577,94577,95113,95113,95380,95380,95647,95647,95913,96180,96447,
    96714,96714,96714,97251,97251,97518,97518,97784,97784,98050,98050,98847,99111,99379,99644,99912,
    99912,100443,100707,100707,101505,101505,101771,101771,102038,102038,102304,102304,103101,103233,103365,103633,
    103899,104167,104700,105095,105493,106030,106563,107097,107364,107628,108162,108162,109760,110293,110827,111361,
    111628,111892,112425,112425,112959,113227,113493,113759,114023,114557,114825,115624,115891,116688,116955,117221,
    117221,118549,118549,118815,118815,119082,119082,119348,119348,120146,120410,120677,120942,121210,121210,121742,
    122006,122006,122804,122804,123070,123070,123337,123337,123603,123603,124400,124532,124664,124932,125198,125466,
    125999,126394,126792,127193,127326,127860,128258,128390,128657,128921,129322,129455,129455,130786,131050,131448,
    131580,131979,132111,132642,133041,133172,133706,133706,134240,134507,134771,135037,135301,135301,135835,136103,
    136899,137166,137166,137963,138231,138764,139030,139297,141698,142231,142765,143298,143565,143831,144364,144364,
    145965,146499,147033,147567,147833,148099,148635,148635,148635,151845,152114,152383,152921,153190,153727,153996,
    154265,154265,154802,155071,155340,155340,155877,156146,156415,156415,157221,157489,158833,159102,159371,159639,
    159639,160446,160715,160984,161521,161789,162327,162596,162865,162865,163402,163670,163939,163939,164477,164746,
    165015,165015,165820,166089,166627,166896,167434,167434,168239,169046,169581,170118,170387,171460,171460,171460,
    172266,172535,173074,173882,174151,174420,174689,174689,174689
    ];
    var melody_data1 = [
    'B4','C#5','D5','F#4','G4','E5','D5','C#5','B4','C#5','F#4','D5','A5','G5','F#5','E5',
    'D5','B4','C#5','D5','E5','B4','C#5','B4','C#5','D5','F#4','G4','E5','D5','C#5','B4',
    'C#5','F#4','D5','A5','G5','F#5','E5','D5','E5','F#5','F#5','A4','D5','F#5','A4','D5',
    'F#5','E5','E4','A4','D5','C#5','D4','A4','A4','A4','A4','A4','F#4','A4','B4','F#4',
    'F#4','A4','F#4','F#4','D5','C#5','B4','A4','A4','G4','F#4','G4','F#4','D4','E4','B3',
    'B4','A4','F#4','E5','F#4','D5','B4','A4','F#4','E5','F#4','D5','D4','G4','G4','G4',
    'G4','F#4','D4','E4','D4','A4','A4','A4','A4','F#4','A4','B4','F#4','F#4','A4','F#4',
    'D5','C#5','B4','A4','A4','G4','F#4','G4','F#4','D4','E4','B4','A4','F#4','E5','F#4',
    'D5','B4','A4','F#4','E5','F#4','D5','D4','D4','G4','G4','G4','G4','A4','B4','A4',
    'A#4','B4','C#5','D5','A4','F#4','G4','E5','D5','C#5','B4','C#5','F#4','D5','A5','G5',
    'F#5','E5','E5','D5','B4','D5','E5','B4','C#5','B4','C#5','D5','F#4','F#4','G4','E5',
    'D5','C#5','C#5','B4','C#5','F#4','D5','A5','G5','F#5','E5','E5','D5','E5','F#5','E5',
    'D4','A4','A4','A4','A4','F#4','A4','B4','F#4','F#4','A4','F#4','D5','C#5','B4','A4',
    'G4','F#4','G4','F#4','D4','E4','B3','B4','A4','F#4','E5','F#4','D5','B4','A4','A4',
    'F#4','E5','F#4','D5','D4','D4','G4','G4','G4','G4','A4','B4','A4','G4','F#4','C#4',
    'E4','D4','D4','F#4','A4','D5','G4','A4','D5','F#4','A4','D5','G4','A4','D5','F#4',
    'A4','B3','D4','G4','A3','D4','F#4','D4','F#4','D4','F#4','D4','F#4','A4','B4','D5',
    'A4','D5','F#5','D5','F#5','D5','F#5','D5','F#5','D5','F#5','F#5','F#5','E5','D5','A4',
    'C#5','D5','C#5','E5','C#5','E5','C#5','E5','C#5','E5','C#5','E5','E5','E5','E5','D5',
    'C#5','D5','C#5','A4','G4','A4','B4','G4','E4','E4','C#5','E5','C#5','D5','E5','C#5',
    'A4','A4','F#4','D5','D5','C#5','D5','E5','F#5','G5','B4','D5','F#5','G5','E5','A#4',
    'C#5','D5','F#5','D5','F#5','D5','F#5','D5','F#5','F#5','F#5','E5','D5','A4','C#5','D5',
    'C#5','E5','C#5','E5','C#5','E5','C#5','E5','C#5','E5','E5','E5','E5','D5','C#5','D5',
    'C#5','A4','G4','G4','A4','B4','B4','G4','E4','E4','E4','C#5','E5','D5','C#5','C#5',
    'D5','D5','E5','C#5','A4','A4','F#4','D5','D5','C#5','D5','E5','D5','F#5','G5','B4',
    'D5','D5','F#5','G5','E5','D5','D5','D5','D5','E5','F#5','D5','B4','B4','D5','F#5',
    'D5','E5','F#5','D5','B4','B4','B4','D5','A5','B4','C#5','D5','F#4','G4','E5','D5',
    'A4','C#5','B4','C#5','F#4','D5','A5','G5','D5','F#5','E5','D5','D5','E5','B4','A#4',
    'C#5','B4','C#5','D5','F#4','G4','E5','D5','A4','C#5','B4','C#5','F#4','D5','A5','G5',
    'D5','F#5','E5','D5','E5','F#5','D5','F#5','E5','D5','C#5','B4','A4','E4','A4','C#5',
    'E5','D5','B4','C#5','D5','C#5','D4','F#4','B4'
    ];
    var melody_volume_ary1 = [
    80,76,84,76,80,84,86,80,82,77,75,83,85,76,83,80,
    85,87,78,84,80,84,83,76,80,84,77,80,83,85,80,81,
    84,76,83,84,83,81,83,82,78,80,82,74,80,82,72,78,
    83,83,79,75,80,74,80,85,73,76,82,76,82,81,84,73,
    77,82,84,70,87,80,74,81,83,75,79,85,79,75,76,84,
    80,78,80,84,74,76,84,79,81,87,83,80,80,85,74,80,
    84,79,72,77,81,76,85,78,86,81,78,85,78,85,79,85,
    87,82,77,81,85,80,84,80,82,76,80,86,80,80,85,77,
    79,81,82,79,85,81,77,84,74,82,74,81,82,86,76,81,
    84,91,85,92,85,88,90,85,92,91,87,93,80,90,94,90,
    92,92,86,90,88,95,89,91,93,90,88,90,87,83,88,90,
    94,88,93,88,93,87,88,92,86,93,92,84,93,85,91,93,
    85,87,77,82,84,82,76,84,82,72,84,80,87,85,81,83,
    77,83,84,82,76,78,86,82,80,75,84,74,80,83,77,84,
    79,87,82,79,82,71,83,75,79,85,78,74,78,82,68,72,
    78,84,80,83,79,85,79,84,89,82,87,91,88,84,88,92,
    81,78,86,92,81,84,91,69,74,79,82,90,93,92,99,93,
    95,98,102,94,88,104,102,96,94,100,103,97,101,91,97,98,
    104,92,101,98,94,95,102,99,94,93,102,101,98,84,101,95,
    100,102,100,95,100,97,101,97,90,100,94,102,100,94,98,96,
    86,99,95,101,99,89,94,99,102,104,96,100,103,97,101,87,
    82,95,91,102,101,95,89,96,102,88,101,90,97,91,103,98,
    98,94,90,88,100,98,94,90,99,93,97,81,98,98,99,92,
    100,96,99,90,99,95,88,101,90,98,85,86,101,96,101,91,
    103,93,102,101,91,101,94,102,100,86,94,98,96,102,104,97,
    101,93,103,96,101,97,89,97,98,94,102,98,91,102,96,102,
    101,94,103,97,90,101,90,96,103,96,91,95,83,88,90,82,
    86,92,90,94,84,90,95,89,85,93,88,90,94,87,93,86,
    92,92,86,95,86,91,87,92,86,94,89,92,84,93,95,91,
    85,93,89,93,88,90,86,94,90,88,92,88,90,79,81,89,
    91,87,82,88,80,87,64,72,85
    ];