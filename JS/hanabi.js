var resText = "fin!";
var bgmFilePS = 'MP3/hanabi.mp3';
var delayTime = 8250;

var melody_length_ary1 = [
    0.158854166666667,0.158333333333333,0.3171875,0.158854166666667,0.316666666666667,0.158854166666667,0.158854166666667,0.316666666666667,0.158854166666667,0.158854166666667,0.2640625,0.2640625,0.158854166666667,0.158854166666667,0.475520833333333,0.158854166666667,
    0.316666666666667,0.158854166666667,0.158854166666667,0.316666666666667,0.158854166666667,0.158854166666667,0.158333333333333,0.158854166666667,0.158333333333333,0.158333333333333,0.158854166666667,0.313020833333333,0.158854166666667,0.158854166666667,0.316666666666667,0.158854166666667,
    0.158854166666667,0.2640625,0.2640625,0.158854166666667,0.158854166666667,0.475520833333333,0.158854166666667,0.316666666666667,0.158854166666667,0.304166666666667,0.158333333333333,0.158854166666667,0.158854166666667,0.316666666666667,0.158854166666667,0.158854166666667,
    0.158333333333333,0.158333333333333,0.158854166666667,0.158854166666667,0.158333333333333,0.476041666666667,0.078125,0.472916666666667,0.145833333333333,0.1453125,0.1453125,0.158333333333333,0.158854166666667,0.130729166666667,0.316666666666667,0.145833333333333,
    0.158854166666667,0.1625,0.065625,0.0791666666666667,0.158333333333333,0.158854166666667,0.158854166666667,0.1453125,0.158333333333333,0.158854166666667,0.0104166666666667,0.316666666666667,0.158854166666667,0.00729166666666667,0.317708333333333,0.158854166666667,
    0.158854166666667,0.146875,0.158854166666667,0.158854166666667,0.3140625,0.475520833333333,0.158854166666667,0.316666666666667,0.158854166666667,0.158854166666667,0.3140625,0.475520833333333,0.000520833333333333,0.472916666666667,0.145833333333333,0.0104166666666667,
    0.3140625,0.158854166666667,0.158854166666667,0.000520833333333333,0.158333333333333,0.472916666666667,0.145833333333333,0.0104166666666667,0.3140625,0.158854166666667,0.0104166666666667,0.316666666666667,0.145833333333333,0.158854166666667,0.3140625,0.158333333333333,
    0.158333333333333,0.158854166666667,0.158854166666667,0.1453125,0.158333333333333,0.158854166666667,0.0104166666666667,0.158333333333333,0.158854166666667,0.00729166666666667,0.317708333333333,0.158854166666667,0.146875,0.158854166666667,0.158854166666667,0.3140625,
    0.475520833333333,0.158854166666667,0.634375,0.158854166666667,0.158854166666667,0.3140625,0.475520833333333,0.000520833333333333,0.0677083333333333,0.472916666666667,0.145833333333333,0.0104166666666667,0.3140625,0.158854166666667,0.158854166666667,0.792708333333333,
    0.475520833333333,0.158854166666667,0.158333333333333,0.158333333333333,0.158854166666667,0.158854166666667,0.316666666666667,0.158854166666667,0.158854166666667,0.316666666666667,0.158854166666667,0.158854166666667,0.2640625,0.2375,0.158854166666667,0.158854166666667,
    0.475520833333333,0.145833333333333,0.158854166666667,0.316666666666667,0.158333333333333,0.158333333333333,0.158854166666667,0.1453125,0.316666666666667,0.158854166666667,0.158854166666667,0.951041666666667,0.145833333333333,0.152604166666667,0.316666666666667,0.158854166666667,
    0.158854166666667,0.1453125,0.158333333333333,0.158854166666667,0.158854166666667,0.2640625,0.2640625,0.158854166666667,0.158854166666667,0.316666666666667,0.145833333333333,0.158854166666667,0.316666666666667,0.158854166666667,0.158854166666667,1.42708333333333,
    1.42708333333333,0.472916666666667,0.145833333333333,0.0104166666666667,0.3140625,0.158854166666667,0.0104166666666667,0.316666666666667,0.145833333333333,0.158854166666667,0.3140625,0.158333333333333,0.158333333333333,0.158854166666667,0.158854166666667,0.316666666666667,
    0.158854166666667,0.0104166666666667,0.316666666666667,0.156770833333333,0.00729166666666667,0.634895833333333,0.158854166666667,0.158854166666667,0.146875,0.158854166666667,0.158854166666667,0.3140625,0.475520833333333,0.158854166666667,0.1453125,0.158333333333333,
    0.158854166666667,0.158854166666667,0.3140625,0.475520833333333,0.000520833333333333,0.0677083333333333,0.472916666666667,0.145833333333333,0.0104166666666667,0.3140625,0.158854166666667,0.158854166666667,0.634375,0.0791666666666667,0.0791666666666667,0.622916666666667,
    0.0104166666666667,0.1453125,0.634375,0.316666666666667,0.158854166666667,0.3171875,0.158333333333333,0.158854166666667,0.144791666666667,0.316666666666667,0.158854166666667,0.3171875,0.158333333333333,0.158854166666667,0.158854166666667,0.316666666666667,
    0.158854166666667,0.158854166666667,0.1453125,0.158854166666667,1.24947916666667,1.25260416666667,0.2375,0.0046875,0.0796875,0.0046875,0.0791666666666667,0.00416666666666667,0.0791666666666667,0.158333333333333,0.129166666666667,0.128645833333333,
    0.316666666666667,0.303645833333333,0.303645833333333,0.145833333333333,0.145833333333333,0.1453125,0.1453125,0.1453125,0.1453125,0.634375,0.3171875,0.1453125,0.158333333333333,0.158854166666667,0.158854166666667,0.0078125,
    0.316666666666667,0.158854166666667,0.3171875,0.3171875,0.145833333333333,0.145833333333333,0.1453125,0.1453125,0.1453125,0.1453125,0.3171875,0.4625,0.065625,0.0661458333333333,0.158333333333333,0.158854166666667,
    0.158854166666667,0.158333333333333,0.158854166666667,0.238020833333333,0.325,0.158854166666667,0.3171875,0.003125,0.1453125,1.26875,0.3171875,0.634375,0.3171875,0.158854166666667,0.3171875,0.158854166666667,
    0.0104166666666667,0.158333333333333,0.003125,0.304166666666667,0.158333333333333,0.158854166666667,0.158854166666667,0.158333333333333,0.3171875,0.158854166666667,0.316666666666667,0.158854166666667,0.158333333333333,0.158854166666667,0.158333333333333,0.634375,
    0.158333333333333,0.145833333333333,0.145833333333333,0.1453125,0.1453125,0.1453125,0.1453125,0.476041666666667,0.3171875,0.1453125,0.158333333333333,0.158854166666667,0.158854166666667,0.0078125,0.316666666666667,0.158854166666667,
    0.3171875,0.3171875,0.145833333333333,0.145833333333333,0.1453125,0.1453125,0.1453125,0.1453125,0.476041666666667,0.634375,0.065625,0.0661458333333333,0.158333333333333,0.158854166666667,0.158854166666667,0.158333333333333,
    0.158854166666667,0.238020833333333,0.235416666666667,0.0791666666666667,0.3171875,0.224479166666667,0.0791666666666667,0.003125,0.1453125,0.322395833333333,0.0822916666666667,0.3171875,0.634375,0.158333333333333,0.224479166666667,0.0791666666666667,
    0.224479166666667,0.0791666666666667,0.3171875,0.238020833333333,0.0661458333333333,0.3171875,0.003125,0.304166666666667,0.158333333333333,0.158854166666667,0.158854166666667,0.158333333333333,0.3171875,0.3171875,0.158854166666667,0.316666666666667,
    0.1453125,0.475520833333333,0.158333333333333,0.158854166666667,0.316666666666667,0.145833333333333,0.1453125,1.26875,0.3171875,0.158854166666667,0.3171875,0.158854166666667,0.1453125,0.158333333333333,0.793229166666667,0.634375,
    0.3171875,0.158854166666667,0.3171875,0.158854166666667,0.1453125,0.158333333333333,1.89010416666667,1.903125,1.903125,0.158854166666667,0.158333333333333,0.3171875,0.158854166666667,0.316666666666667,0.158854166666667,0.158854166666667,
    1.42708333333333,0.316666666666667,0.158854166666667,0.158854166666667,0.2640625,0.2640625,0.158854166666667,0.158854166666667,0.475520833333333,0.475520833333333,0.158854166666667,0.7796875,0.158333333333333,0.158854166666667,0.158854166666667,0.475520833333333,
    0.475520833333333,0.158854166666667,0.158333333333333,0.3171875,0.158854166666667,0.316666666666667,0.158854166666667,0.158854166666667,0.316666666666667,0.316666666666667,0.158854166666667,0.158854166666667,0.2640625,0.2640625,0.158854166666667,0.158854166666667,
    0.475520833333333,0.475520833333333,0.158854166666667,0.316666666666667,0.158854166666667,0.304166666666667,0.476041666666667,0.476041666666667,0.475520833333333,0.3171875,0.3171875,0.158854166666667,0.130729166666667,0.475520833333333,0.475520833333333,0.475520833333333,
    0.158854166666667,0.316666666666667,0.476041666666667,0.158333333333333,0.158854166666667,0.158854166666667,3.32760416666667,3.32760416666667,4.59895833333333
    ];
    var melody_time_ary1 = [
    0,268.236607142857,535.59375,1071.1875,1339.42410714286,1874.13839285714,2142.375,2410.61160714286,2945.32589285714,3213.5625,3481.79910714286,3481.79910714286,4016.51339285714,4284.75,4552.98660714286,5355.9375,
    5624.17410714286,6158.88839285714,6427.125,6695.36160714286,7230.07589285714,7498.3125,7766.54910714286,8569.5,8837.73660714286,9105.09375,9640.6875,9908.92410714286,10443.6383928571,10711.875,10980.1116071429,11514.8258928571,
    11783.0625,12051.2991071429,12051.2991071429,12586.0133928571,12854.25,13122.4866071429,13925.4375,14193.6741071429,14728.3883928571,14996.625,15532.21875,15799.5758928571,16067.8125,16336.0491071429,16870.7633928571,17139,
    17407.2366071429,17674.59375,17941.9508928571,18210.1875,18478.4241071429,18745.78125,19549.6116071429,19816.96875,20084.3258928571,20352.5625,20620.7991071429,20888.15625,21155.5133928571,21423.75,21691.9866071429,22226.7008928571,
    22494.9375,22763.1741071429,23834.3616071429,23968.0401785714,24101.71875,24369.0758928571,24637.3125,24905.5491071429,25172.90625,25440.2633928571,25708.5,25976.7366071429,26511.4508928571,26779.6875,27047.9241071429,27582.6383928571,
    27850.875,28119.1116071429,28653.8258928571,28922.0625,29190.2991071429,29190.2991071429,29993.25,30261.4866071429,30796.2008928571,31064.4375,31332.6741071429,31332.6741071429,32403.8616071429,32671.21875,32938.5758928571,33206.8125,
    33475.0491071429,34009.7633928571,34278,34546.2366071428,36688.6116071429,36955.96875,37223.3258928571,37491.5625,37759.7991071429,38294.5133928571,38562.75,38830.9866071429,39365.7008928571,39633.9375,39902.1741071428,40973.3616071429,
    41240.71875,41508.0758928571,41776.3125,42044.5491071428,42311.90625,42579.2633928571,42847.5,43115.7366071429,43650.4508928571,43918.6875,44186.9241071428,44989.875,45258.1116071429,45792.8258928571,46061.0625,46329.2991071429,
    46329.2991071429,47132.25,47400.4866071428,47935.2008928571,48203.4375,48471.6741071429,48471.6741071429,49542.8616071428,49676.5401785714,49810.21875,50077.5758928571,50345.8125,50614.0491071429,51148.7633928571,51417,51685.2366071428,
    52756.4241071429,53559.375,53827.6116071428,54094.96875,54362.3258928571,54630.5625,54898.7991071428,55433.5133928571,55701.75,55969.9866071429,56504.7008928571,56772.9375,57041.1741071428,57041.1741071428,57575.8883928571,57844.125,
    58112.3616071429,58647.0758928571,58915.3125,59183.5491071428,60254.7366071428,60522.09375,60789.4508928571,61057.6875,61325.9241071429,61860.6383928571,62128.875,62397.1116071428,62931.8258928571,63200.0625,63468.2991071428,64003.0133928571,
    64271.25,64539.4866071429,64806.84375,65074.2008928571,65342.4375,65610.6741071429,65610.6741071429,66145.3883928571,66413.625,66681.8616071429,67216.5758928571,67484.8125,67753.0491071428,68287.7633928571,68556,68824.2366071429,
    70966.6116071428,71233.96875,71501.3258928571,71769.5625,72037.7991071428,72572.5133928571,72840.75,73108.9866071429,73643.7008928571,73911.9375,74180.1741071429,75251.3616071428,75518.71875,75786.0758928571,76054.3125,76322.5491071429,
    76857.2633928571,77125.5,77393.7366071429,77928.4508928571,78196.6875,78464.9241071428,78999.6383928571,79267.875,79536.1116071428,80070.8258928571,80339.0625,80607.2991071429,80607.2991071429,81410.25,81678.4866071429,81945.84375,
    82213.2008928571,82481.4375,82749.6741071428,82749.6741071428,83820.8616071429,83954.5401785714,84088.21875,84355.5758928571,84623.8125,84892.0491071429,85426.7633928571,85695,85963.2366071428,87034.4241071428,87168.1026785714,87301.78125,
    87301.78125,87837.375,88105.6116071429,89176.7991071429,89711.5133928571,89979.75,90515.34375,90782.7008928571,91050.9375,91319.1741071429,91853.8883928571,92122.125,92657.71875,92925.0758928571,93193.3125,93461.5491071428,
    93996.2633928571,94264.5,94264.5,94264.5,94532.7366071428,94532.7366071428,94532.7366071428,95067.4508928571,95067.4508928571,95335.6875,95335.6875,95603.9241071429,95603.9241071429,95871.28125,96138.6383928571,96406.875,
    96675.1116071429,96675.1116071429,96675.1116071429,97209.8258928571,97209.8258928571,97478.0625,97478.0625,97746.2991071428,97746.2991071428,98013.65625,98013.65625,98817.4866071428,99084.84375,99352.2008928571,99620.4375,99888.6741071429,
    99888.6741071429,100423.388392857,100691.625,100691.625,101494.575892857,101494.575892857,101762.8125,101762.8125,102031.049107143,102031.049107143,102298.40625,102298.40625,103102.236607143,103235.915178571,103369.59375,103636.950892857,
    103905.1875,104173.424107143,104708.138392857,105110.053571429,105511.96875,106047.5625,106583.15625,107118.75,107386.986607143,107654.34375,108189.9375,108189.9375,109796.71875,110332.3125,110867.90625,111403.5,
    111671.736607143,111939.09375,112474.6875,112474.6875,113010.28125,113277.638392857,113545.875,113814.111607143,114081.46875,114617.0625,114885.299107143,115688.25,115956.486607143,116759.4375,117027.674107143,117295.03125,
    117295.03125,118633.575892857,118633.575892857,118901.8125,118901.8125,119170.049107143,119170.049107143,119437.40625,119437.40625,120241.236607143,120508.59375,120775.950892857,121044.1875,121312.424107143,121312.424107143,121847.138392857,
    122115.375,122115.375,122918.325892857,122918.325892857,123186.5625,123186.5625,123454.799107143,123454.799107143,123722.15625,123722.15625,124525.986607143,124659.665178571,124793.34375,125060.700892857,125328.9375,125597.174107143,
    126131.888392857,126533.803571429,126935.71875,127337.633928571,127471.3125,128006.90625,128408.821428571,128542.5,128810.736607143,129078.09375,129480.008928571,129613.6875,129613.6875,130953.111607143,131220.46875,131622.383928571,
    131756.0625,132157.977678571,132291.65625,132827.25,133229.165178571,133362.84375,133898.4375,133898.4375,134434.03125,134701.388392857,134969.625,135237.861607143,135505.21875,135505.21875,136040.8125,136309.049107143,
    137112,137380.236607143,137380.236607143,138183.1875,138451.424107143,138986.138392857,139254.375,139522.611607143,141932.34375,142467.9375,143003.53125,143539.125,143807.361607143,144074.71875,144610.3125,144610.3125,
    146217.09375,146752.6875,147288.28125,147823.875,148092.111607143,148359.46875,148895.0625,148895.0625,148895.0625,152108.625,152376.861607143,152644.21875,153179.8125,153448.049107143,153982.763392857,154251,
    154519.236607143,154519.236607143,155053.950892857,155322.1875,155590.424107143,155590.424107143,156125.138392857,156393.375,156661.611607143,156661.611607143,157464.5625,157732.799107143,159071.34375,159338.700892857,159606.9375,159875.174107143,
    159875.174107143,160678.125,160946.361607143,161213.71875,161749.3125,162017.549107143,162552.263392857,162820.5,163088.736607143,163088.736607143,163623.450892857,163891.6875,164159.924107143,164159.924107143,164694.638392857,164962.875,
    165231.111607143,165231.111607143,166034.0625,166302.299107143,166837.013392857,167105.25,167640.84375,167640.84375,168444.674107143,169247.625,169783.21875,170318.8125,170587.049107143,171658.236607143,171658.236607143,171658.236607143,
    172461.1875,172729.424107143,173264.138392857,174067.96875,174335.325892857,174603.5625,174871.799107143,174871.799107143,174871.799107143
    ];
    var melody_data1 = [
    'B4','C#5','D5','F#4','G4','E5','D5','C#5','B4','C#5','F#4','D5','A5','G5','F#5','E5',
    'D5','B4','C#5','D5','E5','B4','C#5','B4','C#5','D5','F#4','G4','E5','D5','C#5','B4',
    'C#5','F#4','D5','A5','G5','F#5','E5','D5','E5','F#5','F#5','A4','D5','F#5','A4','D5',
    'F#5','E5','E4','A4','D5','C#5','D4','A4','A4','A4','A4','A4','F#4','A4','B4','F#4',
    'F#4','A4','F#4','F#4','D5','C#5','B4','A4','A4','G4','F#4','G4','F#4','D4','E4','B3',
    'B4','A4','F#4','E5','F#4','D5','B4','A4','F#4','E5','F#4','D5','D4','G4','G4','G4',
    'G4','F#4','D4','E4','D4','A4','A4','A4','A4','F#4','A4','B4','F#4','F#4','A4','F#4',
    'D5','C#5','B4','A4','A4','G4','F#4','G4','F#4','D4','E4','B4','A4','F#4','E5','F#4',
    'D5','B4','A4','F#4','E5','F#4','D5','D4','D4','G4','G4','G4','G4','A4','B4','A4',
    'A#4','B4','C#5','D5','A4','F#4','G4','E5','D5','C#5','B4','C#5','F#4','D5','A5','G5',
    'F#5','E5','E5','D5','B4','D5','E5','B4','C#5','B4','C#5','D5','F#4','F#4','G4','E5',
    'D5','C#5','C#5','B4','C#5','F#4','D5','A5','G5','F#5','E5','E5','D5','E5','F#5','E5',
    'D4','A4','A4','A4','A4','F#4','A4','B4','F#4','F#4','A4','F#4','D5','C#5','B4','A4',
    'G4','F#4','G4','F#4','D4','E4','B3','B4','A4','F#4','E5','F#4','D5','B4','A4','A4',
    'F#4','E5','F#4','D5','D4','D4','G4','G4','G4','G4','A4','B4','A4','G4','F#4','C#4',
    'E4','D4','D4','F#4','A4','D5','G4','A4','D5','F#4','A4','D5','G4','A4','D5','F#4',
    'A4','B3','D4','G4','A3','D4','F#4','D4','F#4','D4','F#4','D4','F#4','A4','B4','D5',
    'A4','D5','F#5','D5','F#5','D5','F#5','D5','F#5','D5','F#5','F#5','F#5','E5','D5','A4',
    'C#5','D5','C#5','E5','C#5','E5','C#5','E5','C#5','E5','C#5','E5','E5','E5','E5','D5',
    'C#5','D5','C#5','A4','G4','A4','B4','G4','E4','E4','C#5','E5','C#5','D5','E5','C#5',
    'A4','A4','F#4','D5','D5','C#5','D5','E5','F#5','G5','B4','D5','F#5','G5','E5','A#4',
    'C#5','D5','F#5','D5','F#5','D5','F#5','D5','F#5','F#5','F#5','E5','D5','A4','C#5','D5',
    'C#5','E5','C#5','E5','C#5','E5','C#5','E5','C#5','E5','E5','E5','E5','D5','C#5','D5',
    'C#5','A4','G4','G4','A4','B4','B4','G4','E4','E4','E4','C#5','E5','D5','C#5','C#5',
    'D5','D5','E5','C#5','A4','A4','F#4','D5','D5','C#5','D5','E5','D5','F#5','G5','B4',
    'D5','D5','F#5','G5','E5','D5','D5','D5','D5','E5','F#5','D5','B4','B4','D5','F#5',
    'D5','E5','F#5','D5','B4','B4','B4','D5','A5','B4','C#5','D5','F#4','G4','E5','D5',
    'A4','C#5','B4','C#5','F#4','D5','A5','G5','D5','F#5','E5','D5','D5','E5','B4','A#4',
    'C#5','B4','C#5','D5','F#4','G4','E5','D5','A4','C#5','B4','C#5','F#4','D5','A5','G5',
    'D5','F#5','E5','D5','E5','F#5','D5','F#5','E5','D5','C#5','B4','A4','E4','A4','C#5',
    'E5','D5','B4','C#5','D5','C#5','D4','F#4','B4'
    ];
    var melody_volume_ary1 = [
    80,76,84,76,80,84,86,80,82,77,75,83,85,76,83,80,
    85,87,78,84,80,84,83,76,80,84,77,80,83,85,80,81,
    84,76,83,84,83,81,83,82,78,80,82,74,80,82,72,78,
    83,83,79,75,80,74,80,85,73,76,82,76,82,81,84,73,
    77,82,84,70,87,80,74,81,83,75,79,85,79,75,76,84,
    80,78,80,84,74,76,84,79,81,87,83,80,80,85,74,80,
    84,79,72,77,81,76,85,78,86,81,78,85,78,85,79,85,
    87,82,77,81,85,80,84,80,82,76,80,86,80,80,85,77,
    79,81,82,79,85,81,77,84,74,82,74,81,82,86,76,81,
    84,91,85,92,85,88,90,85,92,91,87,93,80,90,94,90,
    92,92,86,90,88,95,89,91,93,90,88,90,87,83,88,90,
    94,88,93,88,93,87,88,92,86,93,92,84,93,85,91,93,
    85,87,77,82,84,82,76,84,82,72,84,80,87,85,81,83,
    77,83,84,82,76,78,86,82,80,75,84,74,80,83,77,84,
    79,87,82,79,82,71,83,75,79,85,78,74,78,82,68,72,
    78,84,80,83,79,85,79,84,89,82,87,91,88,84,88,92,
    81,78,86,92,81,84,91,69,74,79,82,90,93,92,99,93,
    95,98,102,94,88,104,102,96,94,100,103,97,101,91,97,98,
    104,92,101,98,94,95,102,99,94,93,102,101,98,84,101,95,
    100,102,100,95,100,97,101,97,90,100,94,102,100,94,98,96,
    86,99,95,101,99,89,94,99,102,104,96,100,103,97,101,87,
    82,95,91,102,101,95,89,96,102,88,101,90,97,91,103,98,
    98,94,90,88,100,98,94,90,99,93,97,81,98,98,99,92,
    100,96,99,90,99,95,88,101,90,98,85,86,101,96,101,91,
    103,93,102,101,91,101,94,102,100,86,94,98,96,102,104,97,
    101,93,103,96,101,97,89,97,98,94,102,98,91,102,96,102,
    101,94,103,97,90,101,90,96,103,96,91,95,83,88,90,82,
    86,92,90,94,84,90,95,89,85,93,88,90,94,87,93,86,
    92,92,86,95,86,91,87,92,86,94,89,92,84,93,95,91,
    85,93,89,93,88,90,86,94,90,88,92,88,90,79,81,89,
    91,87,82,88,80,87,64,72,85
    ];
